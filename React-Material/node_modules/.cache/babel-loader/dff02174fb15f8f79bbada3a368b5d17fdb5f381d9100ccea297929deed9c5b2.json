{"ast":null,"code":"import React,{createContext,useState,useContext,useEffect}from'react';import{Snackbar,Alert}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NotificationContext=/*#__PURE__*/createContext();export const useNotification=()=>useContext(NotificationContext);export const NotificationProvider=_ref=>{let{children}=_ref;const[snackbarOpen,setSnackbarOpen]=useState(false);const[snackbarMessage,setSnackbarMessage]=useState('');const[snackbarSeverity,setSnackbarSeverity]=useState('success');const[notifications,setNotifications]=useState(0);const[notificationQueue,setNotificationQueue]=useState([]);const showNotification=function(message){let severity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'success';console.log(\"Notification - Severity: \".concat(severity,\", Message: \").concat(message));setNotificationQueue(prevQueue=>[...prevQueue,{message,severity}]);};useEffect(()=>{if(notificationQueue.length>0&&!snackbarOpen){const{message,severity}=notificationQueue[0];setSnackbarMessage(message);setSnackbarSeverity(severity);setSnackbarOpen(true);}},[notificationQueue,snackbarOpen]);const handleSnackbarClose=(event,reason)=>{if(reason==='clickaway'){return;}setSnackbarOpen(false);setNotificationQueue(prevQueue=>prevQueue.slice(1));};return/*#__PURE__*/_jsxs(NotificationContext.Provider,{value:{showNotification},children:[children,/*#__PURE__*/_jsx(Snackbar,{open:snackbarOpen,autoHideDuration:6000,onClose:handleSnackbarClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleSnackbarClose,severity:snackbarSeverity,children:snackbarMessage})})]});};","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","Snackbar","Alert","jsx","_jsx","jsxs","_jsxs","NotificationContext","useNotification","NotificationProvider","_ref","children","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","snackbarSeverity","setSnackbarSeverity","notifications","setNotifications","notificationQueue","setNotificationQueue","showNotification","message","severity","arguments","length","undefined","console","log","concat","prevQueue","handleSnackbarClose","event","reason","slice","Provider","value","open","autoHideDuration","onClose"],"sources":["C:/Users/lky13/OneDrive/Documentos/GitHub/Gosvea-MIS/React-Material/src/components/NotificationContext.js"],"sourcesContent":["import React, { createContext, useState, useContext,useEffect } from 'react';\r\nimport { Snackbar, Alert } from '@mui/material';\r\n\r\nconst NotificationContext = createContext();\r\n\r\nexport const useNotification = () => useContext(NotificationContext);\r\n\r\nexport const NotificationProvider = ({ children }) => {\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState('');\r\n  const [snackbarSeverity, setSnackbarSeverity] = useState('success');\r\n  const [notifications, setNotifications] = useState(0);\r\n  const [notificationQueue, setNotificationQueue] = useState([]);\r\n\r\n  const showNotification = (message, severity = 'success') => {\r\n    console.log(`Notification - Severity: ${severity}, Message: ${message}`);\r\n    setNotificationQueue(prevQueue => [...prevQueue, { message, severity }]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (notificationQueue.length > 0 && !snackbarOpen) {\r\n      const { message, severity } = notificationQueue[0];\r\n      setSnackbarMessage(message);\r\n      setSnackbarSeverity(severity);\r\n      setSnackbarOpen(true);\r\n    }\r\n  }, [notificationQueue, snackbarOpen]);\r\n\r\n  const handleSnackbarClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setSnackbarOpen(false);\r\n    setNotificationQueue(prevQueue => prevQueue.slice(1));\r\n  };\r\n\r\n  return (\r\n    <NotificationContext.Provider value={{ showNotification }}>\r\n      {children}\r\n      <Snackbar\r\n        open={snackbarOpen}\r\n        autoHideDuration={6000}\r\n        onClose={handleSnackbarClose}\r\n      >\r\n        <Alert onClose={handleSnackbarClose} severity={snackbarSeverity}>\r\n          {snackbarMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n    </NotificationContext.Provider>\r\n  );\r\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,UAAU,CAACC,SAAS,KAAQ,OAAO,CAC5E,OAASC,QAAQ,CAAEC,KAAK,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,KAAM,CAAAC,mBAAmB,cAAGV,aAAa,CAAC,CAAC,CAE3C,MAAO,MAAM,CAAAW,eAAe,CAAGA,CAAA,GAAMT,UAAU,CAACQ,mBAAmB,CAAC,CAEpE,MAAO,MAAM,CAAAE,oBAAoB,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC/C,KAAM,CAACE,YAAY,CAAEC,eAAe,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACgB,eAAe,CAAEC,kBAAkB,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACkB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGnB,QAAQ,CAAC,SAAS,CAAC,CACnE,KAAM,CAACoB,aAAa,CAAEC,gBAAgB,CAAC,CAAGrB,QAAQ,CAAC,CAAC,CAAC,CACrD,KAAM,CAACsB,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CAE9D,KAAM,CAAAwB,gBAAgB,CAAG,QAAAA,CAACC,OAAO,CAA2B,IAAzB,CAAAC,QAAQ,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,SAAS,CACrDG,OAAO,CAACC,GAAG,6BAAAC,MAAA,CAA6BN,QAAQ,gBAAAM,MAAA,CAAcP,OAAO,CAAE,CAAC,CACxEF,oBAAoB,CAACU,SAAS,EAAI,CAAC,GAAGA,SAAS,CAAE,CAAER,OAAO,CAAEC,QAAS,CAAC,CAAC,CAAC,CAC1E,CAAC,CAEDxB,SAAS,CAAC,IAAM,CACd,GAAIoB,iBAAiB,CAACM,MAAM,CAAG,CAAC,EAAI,CAACd,YAAY,CAAE,CACjD,KAAM,CAAEW,OAAO,CAAEC,QAAS,CAAC,CAAGJ,iBAAiB,CAAC,CAAC,CAAC,CAClDL,kBAAkB,CAACQ,OAAO,CAAC,CAC3BN,mBAAmB,CAACO,QAAQ,CAAC,CAC7BX,eAAe,CAAC,IAAI,CAAC,CACvB,CACF,CAAC,CAAE,CAACO,iBAAiB,CAAER,YAAY,CAAC,CAAC,CAErC,KAAM,CAAAoB,mBAAmB,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CAC7C,GAAIA,MAAM,GAAK,WAAW,CAAE,CAC1B,OACF,CACArB,eAAe,CAAC,KAAK,CAAC,CACtBQ,oBAAoB,CAACU,SAAS,EAAIA,SAAS,CAACI,KAAK,CAAC,CAAC,CAAC,CAAC,CACvD,CAAC,CAED,mBACE7B,KAAA,CAACC,mBAAmB,CAAC6B,QAAQ,EAACC,KAAK,CAAE,CAAEf,gBAAiB,CAAE,CAAAX,QAAA,EACvDA,QAAQ,cACTP,IAAA,CAACH,QAAQ,EACPqC,IAAI,CAAE1B,YAAa,CACnB2B,gBAAgB,CAAE,IAAK,CACvBC,OAAO,CAAER,mBAAoB,CAAArB,QAAA,cAE7BP,IAAA,CAACF,KAAK,EAACsC,OAAO,CAAER,mBAAoB,CAACR,QAAQ,CAAER,gBAAiB,CAAAL,QAAA,CAC7DG,eAAe,CACX,CAAC,CACA,CAAC,EACiB,CAAC,CAEnC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}